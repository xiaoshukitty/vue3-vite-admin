import{e,w as a,d as s,ai as t,c as o,a as r,T as l,u as n,U as i,O as u,o as g,S as y}from"./@vue-4faa9f7e.js";const c=s=>{const{storageKey:t,storageValue:o,storageType:r}=s,l=e(o);try{const e="session"===r?sessionStorage.getItem(t):localStorage.getItem(t);null!==e&&(l.value=JSON.parse(e))}catch(n){}a((()=>{if("session"===r){if(void 0!==l.value)return sessionStorage.setItem(t,JSON.stringify(l.value))}else if(void 0!==l.value)return localStorage.setItem(t,JSON.stringify(l.value))}));return{value:l,removeStorage:()=>{try{"session"===r?sessionStorage.removeItem(t):localStorage.removeItem(t)}catch(n){}},updateStorage:e=>{l.value=e;try{"session"===r?sessionStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,JSON.stringify(e))}catch(n){}}}},p=r("h1",null,"储存hook",-1),m=r("div",{style:{height:"6.25rem"}},null,-1),v=s({__name:"index",setup(a){let s=e(""),v=e("");const S=()=>{c({storageKey:"token",storageValue:"123456789",storageType:"session"})},d=()=>{const{value:e}=c({storageKey:"token",storageType:"session"});s.value=e.value},f=()=>{const{updateStorage:e}=c({storageKey:"token",storageType:"session"});e("tokentoken")},k=()=>{const{removeStorage:e}=c({storageKey:"token",storageType:"session"});e()},h=()=>{c({storageKey:"name",storageValue:"xiaoxiaoshu",storageType:"local"})},T=()=>{const{value:e}=c({storageKey:"name",storageType:"local"});v.value=e.value},_=()=>{const{updateStorage:e}=c({storageKey:"name",storageType:"local"});e("xiaohuan")},K=()=>{const{removeStorage:e}=c({storageKey:"name",storageType:"local"});e()};return(e,a)=>{const c=t("el-button");return g(),o("div",null,[p,r("div",null,[r("h2",null,"储存Session："+l(n(s)),1),i(c,{type:"primary",onClick:S},{default:u((()=>[y("储存session")])),_:1}),i(c,{type:"primary",onClick:d},{default:u((()=>[y("获取session")])),_:1}),i(c,{type:"primary",onClick:f},{default:u((()=>[y("更新session")])),_:1}),i(c,{type:"primary",onClick:k},{default:u((()=>[y("删除session")])),_:1})]),m,r("div",null,[r("h2",null,"储存Local："+l(n(v)),1),i(c,{type:"primary",onClick:h},{default:u((()=>[y("储存Local")])),_:1}),i(c,{type:"primary",onClick:T},{default:u((()=>[y("获取Local")])),_:1}),i(c,{type:"primary",onClick:_},{default:u((()=>[y("更新Local")])),_:1}),i(c,{type:"primary",onClick:K},{default:u((()=>[y("删除Local")])),_:1})])])}}});export{v as default};
