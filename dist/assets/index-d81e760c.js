import{b as e,w as s,d as o,ai as t,c as a,a as r,T as i,U as l,O as n,I as u,u as m,az as p,aA as c,o as g,S as d}from"./@vue-df0b898e.js";import{u as v,_ as y}from"./index-76919292.js";import"./element-plus-70432142.js";import"./lodash-es-e58ab31e.js";import"./@vueuse-e939f3e5.js";import"./@element-plus-84a1e3c8.js";import"./@popperjs-b696b006.js";import"./@ctrl-91de2ec7.js";import"./dayjs-db284eda.js";import"./async-validator-8d480e59.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-96c4c0ad.js";import"./vue-router-9646783a.js";import"./pinia-33633599.js";import"./vue-i18n-5303eb8e.js";import"./@intlify-0c9a9c9a.js";import"./nprogress-53f8e7ed.js";import"./js-cookie-8253c38e.js";import"./axios-d9fc56e3.js";const j=e=>(p("data-v-95843901"),e=e(),c(),e),S=j((()=>r("h1",null,"储存 Hook",-1))),f=j((()=>r("div",{style:{height:"6.25rem"}},null,-1))),k=y(o({__name:"index",setup(o){const p=v(),c=e(""),y=e(""),j=(o,t)=>{const a="session"===o?"token":"name",r="session"===o?"123456789":"xiaoxiaoshu",i="session"===o?"tokentoken":"xiaohuan",{value:l,updateStorage:n,removeStorage:u}=(o=>{const{storageKey:t,storageValue:a,storageType:r}=o,i=e(a);try{const e="session"===r?sessionStorage.getItem(t):localStorage.getItem(t);null!==e&&(i.value=JSON.parse(e))}catch(l){console.error("Error loading storage item: ",l)}return s((()=>{if("session"===r){if(void 0!==i.value)return sessionStorage.setItem(t,JSON.stringify(i.value))}else if(void 0!==i.value)return localStorage.setItem(t,JSON.stringify(i.value))})),{value:i,removeStorage:()=>{try{"session"===r?sessionStorage.removeItem(t):localStorage.removeItem(t)}catch(l){console.error("Error removing storage item: ",l)}},updateStorage:e=>{i.value=e;try{"session"===r?sessionStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,JSON.stringify(e))}catch(l){console.error("Error setting storage item: ",l)}}}})({storageKey:a,storageValue:"set"===t?r:void 0,storageType:o});switch(t){case"set":l.value=r;break;case"get":"session"===o&&(c.value=l.value),"local"===o&&(y.value=l.value);break;case"update":n(i);break;case"delete":u(),"session"===o&&(c.value=""),"local"===o&&(y.value="")}};return(e,s)=>{const o=t("el-button");return g(),a("div",{class:u(["storage","dark"===m(p).theme?"storage-theme":""])},[S,r("div",null,[r("h2",null,"储存 Session："+i(c.value),1),l(o,{type:"primary",onClick:s[0]||(s[0]=e=>j("session","set"))},{default:n((()=>[d("储存 Session")])),_:1}),l(o,{type:"primary",onClick:s[1]||(s[1]=e=>j("session","get"))},{default:n((()=>[d("获取 Session")])),_:1}),l(o,{type:"primary",onClick:s[2]||(s[2]=e=>j("session","update"))},{default:n((()=>[d("更新 Session")])),_:1}),l(o,{type:"primary",onClick:s[3]||(s[3]=e=>j("session","delete"))},{default:n((()=>[d("删除 Session")])),_:1})]),f,r("div",null,[r("h2",null,"储存 Local："+i(y.value),1),l(o,{type:"primary",onClick:s[4]||(s[4]=e=>j("local","set"))},{default:n((()=>[d("储存 Local")])),_:1}),l(o,{type:"primary",onClick:s[5]||(s[5]=e=>j("local","get"))},{default:n((()=>[d("获取 Local")])),_:1}),l(o,{type:"primary",onClick:s[6]||(s[6]=e=>j("local","update"))},{default:n((()=>[d("更新 Local")])),_:1}),l(o,{type:"primary",onClick:s[7]||(s[7]=e=>j("local","delete"))},{default:n((()=>[d("删除 Local")])),_:1})])],2)}}}),[["__scopeId","data-v-95843901"]]);export{k as default};
