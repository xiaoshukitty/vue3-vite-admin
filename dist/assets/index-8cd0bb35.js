import{l as e,O as a,d as t,r as s,c as o,b as r,t as l,a as n,j as i,w as u,o as g,E as y}from"./index-2dc65f51.js";const c=t=>{const{storageKey:s,storageValue:o,storageType:r}=t,l=e(o);try{const e="session"===r?sessionStorage.getItem(s):localStorage.getItem(s);null!==e&&(l.value=JSON.parse(e))}catch(n){}a((()=>{if("session"===r){if(void 0!==l.value)return sessionStorage.setItem(s,JSON.stringify(l.value))}else if(void 0!==l.value)return localStorage.setItem(s,JSON.stringify(l.value))}));return{value:l,removeStorage:()=>{try{"session"===r?sessionStorage.removeItem(s):localStorage.removeItem(s)}catch(n){}},updateStorage:e=>{l.value=e;try{"session"===r?sessionStorage.setItem(s,JSON.stringify(e)):localStorage.setItem(s,JSON.stringify(e))}catch(n){}}}},p=r("h1",null,"储存hook",-1),m=r("div",{style:{height:"6.25rem"}},null,-1),v=t({__name:"index",setup(a){let t=e(""),v=e("");const d=()=>{c({storageKey:"token",storageValue:"123456789",storageType:"session"})},S=()=>{const{value:e}=c({storageKey:"token",storageType:"session"});t.value=e.value},f=()=>{const{updateStorage:e}=c({storageKey:"token",storageType:"session"});e("tokentoken")},k=()=>{const{removeStorage:e}=c({storageKey:"token",storageType:"session"});e()},h=()=>{c({storageKey:"name",storageValue:"xiaoxiaoshu",storageType:"local"})},_=()=>{const{value:e}=c({storageKey:"name",storageType:"local"});v.value=e.value},K=()=>{const{updateStorage:e}=c({storageKey:"name",storageType:"local"});e("xiaohuan")},T=()=>{const{removeStorage:e}=c({storageKey:"name",storageType:"local"});e()};return(e,a)=>{const c=s("el-button");return g(),o("div",null,[p,r("div",null,[r("h2",null,"储存Session："+l(n(t)),1),i(c,{type:"primary",onClick:d},{default:u((()=>[y("储存session")])),_:1}),i(c,{type:"primary",onClick:S},{default:u((()=>[y("获取session")])),_:1}),i(c,{type:"primary",onClick:f},{default:u((()=>[y("更新session")])),_:1}),i(c,{type:"primary",onClick:k},{default:u((()=>[y("删除session")])),_:1})]),m,r("div",null,[r("h2",null,"储存Local："+l(n(v)),1),i(c,{type:"primary",onClick:h},{default:u((()=>[y("储存Local")])),_:1}),i(c,{type:"primary",onClick:_},{default:u((()=>[y("获取Local")])),_:1}),i(c,{type:"primary",onClick:K},{default:u((()=>[y("更新Local")])),_:1}),i(c,{type:"primary",onClick:T},{default:u((()=>[y("删除Local")])),_:1})])])}}});export{v as default};
