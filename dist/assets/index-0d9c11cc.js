import{b as e,u as a}from"./vue-router-519119dd.js";import{u as l,a as t,s,_ as o,b as n,t as r,G as i,c,S as d,d as u,e as m}from"./index-3b5a06ae.js";import{d as h,u as v,o as p,c as f,a as k,T as b,J as _,I as g,R as x,_ as y,ai as w,a8 as C,F as j,M as L,O as M,U as R,Q as I,b as D,e as E,W as T,n as V,k as S,az as B,aA as z,D as $,S as F,P as H,V as P,a2 as U,j as q,ae as N}from"./@vue-7d1b35cf.js";import{a as A}from"./js-cookie-8253c38e.js";import{a as G,E as O}from"./element-plus-e2d1136e.js";import{u as W}from"./vue-i18n-9d70433a.js";import{d as X}from"./pinia-3624b2fa.js";import"./nprogress-6f80ecd0.js";import"./dayjs-d97fcf3a.js";import"./axios-7b293c88.js";import"./@element-plus-cdeb115f.js";import"./lodash-es-e58ab31e.js";import"./@vueuse-63aee19d.js";import"./@popperjs-b696b006.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-96c4c0ad.js";import"./@intlify-e89ab06e.js";const J=["src"],Q=o(h({name:"Logo",setup(e){const a=l();let o=t();return(e,l)=>v(s).logoHidden?(p(),f("div",{key:0,class:g(["logo","dark"===v(a).theme?"logo-theme":""])},[k("img",{src:v(s).logo,alt:""},null,8,J),k("p",{style:_(v(o).fold?"display:none":"display:block")},b(v(s).title),5)],2)):x("",!0)}}),[["__scopeId","data-v-e09183e6"]]),Y=h({name:"Menu",props:["menuList"],setup(a){const{addLabelRoute:l}=n(),{labelIndex:t}=y(n());e();return(e,s)=>{const o=w("el-icon"),n=w("el-menu-item"),r=w("Menu"),i=w("el-sub-menu");return p(!0),f(j,null,C(a.menuList,(e=>(p(),f(j,{key:e.path},[e.children?x("",!0):(p(),f(j,{key:0},[e.meta.hidden?x("",!0):(p(),L(n,{key:0,index:e.path,onClick:a=>(e=>{t.value=e.path,l(e)})(e)},{title:M((()=>[k("span",null,b(e.meta.title),1)])),default:M((()=>[R(o,null,{default:M((()=>[(p(),L(I(e.meta.icon)))])),_:2},1024)])),_:2},1032,["index","onClick"]))],64)),e.children&&e.children.length>0?(p(),L(i,{key:1,index:e.path},{title:M((()=>[R(o,null,{default:M((()=>[(p(),L(I(e.meta.icon)))])),_:2},1024),k("span",null,b(e.meta.title),1)])),default:M((()=>[R(r,{menuList:e.children},null,8,["menuList"])])),_:2},1032,["index"])):x("",!0)],64)))),128)}}}),K=o(h({__name:"index",setup(e){let a=t(),l=D(!0);return E((()=>a.refsh),(()=>{l.value=!1,V((()=>{l.value=!0}))})),(e,a)=>{const t=w("router-view");return p(),L(t,null,{default:M((({Component:e})=>[R(T,{name:"fade"},{default:M((()=>[v(l)?(p(),L(I(e),{key:0})):x("",!0)])),_:2},1024)])),_:1})}}}),[["__scopeId","data-v-b16348d9"]]),Z=e=>(B("data-v-c511bcaa"),e=e(),z(),e),ee={class:"content"},ae={class:"tab-tilte"},le=["onClick"],te={key:0,class:"content-list"},se=Z((()=>k("h3",null,"主题",-1))),oe=Z((()=>k("div",null,"主题",-1))),ne={class:"built-theme"},re=Z((()=>k("h3",null,"内置主题",-1))),ie={class:"theme-color"},ce=["onClick"],de={class:"theme-text"},ue=o(h({__name:"index",props:{isDrawer:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:a}){let t=l();const s=D("rtl"),o=D(!1),n=D("25%");let u=D(0),m=D(0),h=D(!1);const y=e,I=a;E((()=>y.isDrawer),(e=>{o.value=e}),{immediate:!0});const T=S((()=>({"--background-color-hover":r[u.value].color})));let V=document.documentElement;"dark"==i("THEME")?(V.className="dark",h.value=!0):(V.className="",h.value=!1);const B=e=>{h.value=!h.value;const a=document.startViewTransition((()=>{h.value?(V.className="dark",t.theme="dark",d("THEME","dark")):(V.className="",t.theme="light",d("THEME","light"))})),l=e.clientX,s=e.clientY,o=Math.hypot(Math.max(l,window.innerWidth-l),Math.max(s,window.innerHeight-s));a.ready.then((()=>{document.documentElement.animate({clipPath:[`circle(0% at ${l}px ${s}px)`,`circle(${o}px at  ${l}px ${s}px)`]},{duration:600,pseudoElement:"::view-transition-new(root)"})}))},z=()=>{I("close",!1)};return(e,a)=>{const l=w("ThemeSwitch"),i=w("el-drawer");return p(),L(i,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),direction:s.value,"close-on-click-modal":"",onClose:z,size:n.value,class:g(["dark"===v(t).theme?"drawer-theme":""])},{header:M((()=>[k("h4",{class:g(["dark"===v(t).theme?"h4-theme":""])},"主题配置",2)])),default:M((()=>[k("div",ee,[k("div",{class:g(["tab-border","dark"===v(t).theme?"tab-theme":""])},[k("ul",ae,[(p(!0),f(j,null,C(v(c),((e,a)=>(p(),f("li",{key:a,class:g([v(m)==a?"dark"===v(t).theme?"drawer-theme":"active":""]),onClick:e=>(e=>{m.value=e})(a)},[k("div",null,b(e),1)],10,le)))),128))])],2),k("div",null,[0==v(m)?(p(),f("div",te,[k("div",null,[se,k("div",{class:g(["line","dark"===v(t).theme?"line-theme":""])},[oe,R(l,{MoveRound:v(h),"onUpdate:themeSwitch":B},null,8,["MoveRound"])],2)]),k("div",ne,[re,k("div",ie,[(p(!0),f(j,null,C(v(r),((e,a)=>(p(),f("div",{id:"weight-theme",class:"theme-list",key:a},[k("div",{class:g(["theme-item",v(u)==a?"active-color":"","dark"===v(t).theme?"theme-item-theme":""]),style:_([{border:v(u)==a?"2px solid "+e.color:""},T.value]),onClick:e=>(e=>{u.value=e})(a)},[k("div",{class:"theme-item-box",style:_({background:e.color})},null,4)],14,ce),k("div",de,b(e.name),1)])))),128))])])])):x("",!0)])])])),_:1},8,["modelValue","direction","size","class"])}}}),[["__scopeId","data-v-c511bcaa"]]),me={class:"lock-dialog pr-40 pl-40"},he={class:"lock-img"},ve=["src"],pe=(e=>(B("data-v-d299d4ab"),e=e(),z(),e))((()=>k("div",{class:"lock-name"}," 小小舒 ",-1))),fe={class:"lock-ipt"},ke={class:"lock-btn"},be=o(h({__name:"index",props:{isLockDialog:{type:Boolean,default:!1}},emits:["close"],setup(l,{emit:t}){let o=D(""),n=D(!1),r=e();const i=a(),c=l,d=t;E((()=>c.isLockDialog),(e=>{n.value=e}),{immediate:!0});const u=()=>{d("close",!1)},m=()=>{""!==o.value&&(A.set("lastLockscreen",i.fullPath),r.push({path:"/lockscreen",query:{unlockPassword:o.value}}),A.set("lockStatus","1"))};return(e,a)=>{const l=w("el-input"),t=w("el-button"),r=w("el-dialog");return p(),L(r,{modelValue:v(n),"onUpdate:modelValue":a[1]||(a[1]=e=>$(n)?n.value=e:n=e),title:"锁定屏幕",width:"500","before-close":u,onClose:u,style:{"border-radius":"1.25rem"}},{default:M((()=>[k("div",me,[k("div",he,[k("img",{src:v(s).logo,alt:""},null,8,ve)]),pe,k("div",fe,[R(l,{type:"password","prefix-icon":e.Lock,modelValue:v(o),"onUpdate:modelValue":a[0]||(a[0]=e=>$(o)?o.value=e:o=e),"show-password":"",placeholder:"请输入锁屏密码"},null,8,["prefix-icon","modelValue"])]),k("div",ke,[R(t,{type:"primary",style:{width:"100%"},onClick:m},{default:M((()=>[F("确定")])),_:1})])])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-d299d4ab"]]),_e=e=>(B("data-v-39e75a78"),e=e(),z(),e),ge={class:"icon-btn"},xe={class:""},ye={class:"d-flex ai-center"},we=["src"],Ce=_e((()=>k("span",null,null,-1))),je={class:"user-info"},Le={class:"user-img"},Me=["src"],Re=_e((()=>k("span",null,null,-1))),Ie=_e((()=>k("div",{class:g(["user-name","d-flex","j-center","f-cloumn","ml-10"])},[k("div",{class:"fw-500"},"Xiaoshu"),k("div",{style:{color:"#71717a","font-size":".75rem","line-height":"1rem"}},"https:xiaoshukitty")],-1))),De=o(h({name:"Setting",setup(t){let o=l(),n=e(),r=a();const i=D(!1),c=u();let d=D(!1);const m=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},h=()=>{d.value=!0},b=e=>{d.value=e},_=()=>{G.confirm("是否退出登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((()=>{c.logout(),n.push({path:"/",query:{redirect:r.path}}),O({type:"success",message:"Delete completed"})})).catch((()=>{O({type:"info",message:"Delete canceled"})}))},x=()=>{i.value=!0},y=e=>{i.value=e};return(e,a)=>{const l=w("FullScreen"),t=w("el-icon"),n=w("Cpu"),r=w("SwitchFilled"),c=w("Lock"),u=w("SwitchButton"),C=w("el-dropdown");return p(),f(j,null,[k("div",ge,[k("div",{class:g(["icon-hover","mr-5","dark"===v(o).theme?"breadcriumb-theme":""]),onClick:m},[R(t,{class:"fs-18"},{default:M((()=>[R(l)])),_:1})],2),k("div",{class:g(["icon-hover","dark"===v(o).theme?"breadcriumb-theme":""]),onClick:x},[R(t,{class:"fs-18"},{default:M((()=>[R(n)])),_:1})],2)]),k("div",xe,[R(C,{trigger:"click"},{dropdown:M((()=>[k("div",je,[k("div",{class:g(["user-top","d-flex","ai-center","b-bottom","dark"===v(o).theme?"setting-theme":""])},[k("div",Le,[k("img",{src:v(s).logo,alt:""},null,8,Me),Re]),Ie],2),k("div",{class:g(["user-bottom","b-bottom","dark"===v(o).theme?"setting-theme":""])},[k("div",{class:g(["user-bottom-line ","d-flex ai-center","dark"===v(o).theme?"user-hover":""])},[R(t,{class:"mr-5"},{default:M((()=>[R(r)])),_:1}),F("Github ")],2),k("div",{class:g(["user-bottom-line ","d-flex ai-center","dark"===v(o).theme?"user-hover":""]),onClick:h},[R(t,{class:"mr-5"},{default:M((()=>[R(c)])),_:1}),F("锁定屏幕 ")],2)],2),k("div",{class:g(["user-bottom","b-bottom","dark"===v(o).theme?"setting-theme":""])},[k("div",{class:g(["user-bottom-line ","d-flex ai-center","dark"===v(o).theme?"user-hover":""]),onClick:_},[R(t,{class:"mr-5"},{default:M((()=>[R(u)])),_:1}),F("退出登录")],2)],2)])])),default:M((()=>[k("div",ye,[k("div",{class:g(["img-hover","dark"===v(o).theme?"img-hover-theme":""])},[k("img",{src:v(s).logo,alt:""},null,8,we),Ce],2)])])),_:1})]),R(ue,{isDrawer:i.value,onClose:y},null,8,["isDrawer"]),R(be,{isLockDialog:v(d),onClose:b},null,8,["isLockDialog"])],64)}}}),[["__scopeId","data-v-39e75a78"]]),Ee={class:"icon-btn"},Te={class:"d-flex ai-center"},Ve=o(h({name:"Breadcrumb",setup(e){let s=l(),o=t();a(),D(!1);const n=()=>{o.fold=!o.fold},r=()=>{o.refsh=!o.refsh};return(e,a)=>{const l=w("el-icon"),t=w("el-breadcrumb-item"),o=w("el-breadcrumb");return p(),f(j,null,[k("div",Ee,[k("div",{class:g(["icon-hover","mr-5","dark"===v(s).theme?"breadcriumb-theme":""]),onClick:n},[R(l,{class:"fs-18"},{default:M((()=>[(p(),L(I("Operation")))])),_:1})],2),k("div",{class:g(["icon-hover","dark"===v(s).theme?"breadcriumb-theme":""]),onClick:r},[R(l,{class:"fs-18"},{default:M((()=>[(p(),L(I("Refresh")))])),_:1})],2)]),R(o,{"separator-icon":"ArrowRight"},{default:M((()=>[(p(!0),f(j,null,C(e.$route.matched,((e,a)=>H((p(),L(t,{key:a,onClick:e=>{},to:e.path},{default:M((()=>[k("div",Te,[R(l,{class:"fs-18"},{default:M((()=>[(p(),L(I(e.meta.icon)))])),_:2},1024),k("span",{class:g(["dark"===v(s).theme?"breadcriumb-theme-span":""]),style:{margin:"0 .3125rem",color:"#71717a"}},b(e.meta.title),3)])])),_:2},1032,["onClick","to"])),[[P,e.meta.title]]))),128))])),_:1})],64)}}}),[["__scopeId","data-v-5373a1a2"]]),Se={class:"tabbar"},Be={class:"tabbar_left"},ze={class:"tabbar_right"},$e=o(h({name:"Tabbar",setup:e=>(e,a)=>(p(),f("div",Se,[k("div",Be,[R(Ve)]),k("div",ze,[R(De)])]))}),[["__scopeId","data-v-51728df8"]]),Fe={class:"label-page"},He={class:"left-lable fs-14"},Pe={class:"d-flex left-lable-content"},Ue=["onClick","onContextmenu"],qe=(e=>(B("data-v-2daea7fe"),e=e(),z(),e))((()=>k("div",{class:"right-labl"},"右",-1))),Ne=o(h({__name:"index",setup(t){const{closeLabelRoute:s,skipRouter:o}=n(),{labelIndex:r,labelRouteList:i}=y(n()),{t:c}=W();let d=l();const u=D();let m=D("");e(),a();return(e,a)=>{const l=w("el-icon"),t=w("Close"),n=w("ContextMenu");return p(),f(j,null,[k("div",Fe,[k("div",He,[k("div",Pe,[(p(!0),f(j,null,C(v(i),((e,a)=>(p(),f("div",{key:a,onClick:a=>(e=>{o(e)})(e),onContextmenu:a=>{return t=e,(l=a).preventDefault(),u.value.showMenu(l,t),void(m.value="labelPage");var l,t},class:g(["left-lable-text","d-flex","ai-center","label-hover","dark"===v(d).theme?"label-theme-hover":"",v(r)===e.path?"dark"===v(d).theme?"label-theme-active":"label-active":""])},[R(l,{class:"fs-16 mr-5"},{default:M((()=>[(p(),L(I(e.meta.icon)))])),_:2},1024),F(" "+b(e.meta.title)+" ",1),v(i).length>1?(p(),L(l,{key:0,class:"label-page-icon",onClick:U((a=>(e=>{s(e)})(e)),["stop"])},{default:M((()=>[R(t)])),_:2},1032,["onClick"])):x("",!0)],42,Ue)))),128))])]),qe]),R(n,{ref_key:"contextMenu",ref:u,routerType:v(m)},null,8,["routerType"])],64)}}}),[["__scopeId","data-v-2daea7fe"]]),Ae=X("menu",{state:()=>({menuRoutes:[]}),actions:{generateMenus(e){const a=Ge(m,e);this.menuRoutes=a}}}),Ge=(e,a)=>e.map((e=>(e.children&&(e.children=Ge(e.children,a)),e.meta&&e.meta.roles&&!e.meta.roles.includes(a)?null:e))).filter(Boolean),Oe=Ae,We={class:"layout_container"},Xe={class:"layout_box"},Je={class:"layout-header"},Qe=o(h({name:"Layout",setup(e){const s=l(),o=Oe(),r=u();let i=t();const{addLabelRoute:c}=n(),{labelIndex:d}=y(n());let m=a(),h=D([]);q((()=>{d.value=m.path,c(N(m)),o.generateMenus(r.userRole),h.value=o.menuRoutes}));const b=S((()=>"dark"===s.theme?"#1c1e23":"#fff")),_=S((()=>"dark"===s.theme?"#fafafa":"#323639")),x=S((()=>"dark"===s.theme?"#ffd04b":"#006be6"));return(e,a)=>{const l=w("el-menu"),t=w("el-scrollbar");return p(),f("div",We,[k("div",{class:g(["layout_slider","dark"===v(s).theme?"slider-theme":""])},[R(Q),R(t,{class:"scrollbar"},{default:M((()=>[R(l,{class:"el-menu-vertical-demo",collapse:!!v(i).fold,"default-active":v(m).path,"background-color":b.value,"text-color":_.value,"active-text-color":x.value,router:"","unique-opened":!0},{default:M((()=>[R(Y,{menuList:v(h)},null,8,["menuList"])])),_:1},8,["collapse","default-active","background-color","text-color","active-text-color"])])),_:1})],2),k("div",Xe,[k("div",Je,[k("header",{class:g(["layout_tabbar","dark"===v(s).theme?"header-theme":""])},[R($e)],2),k("section",{class:g(["layout-label","dark"===v(s).theme?"label-theme":""])},[R(Ne)],2)]),k("main",{class:g(["layout_main","dark"===v(s).theme?"":"main-theme"])},[R(K)],2)])])}}}),[["__scopeId","data-v-29045721"]]);export{Qe as default};
