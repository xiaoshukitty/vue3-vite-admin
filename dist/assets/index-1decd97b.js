import{u as e,_ as a}from"./index-be0ef95a.js";import{E as s}from"./element-plus-5f0c6015.js";import{d as t,b as o,k as i,ai as l,c as r,U as p,O as u,I as n,o as m,S as d,a as c,M as j,az as f,aA as v}from"./@vue-a21e81cd.js";import"./vue-router-d38bbf22.js";import"./pinia-50921885.js";import"./vue-i18n-d0c7eaaf.js";import"./@intlify-e89ab06e.js";import"./nprogress-53f8e7ed.js";import"./dayjs-db284eda.js";import"./js-cookie-8253c38e.js";import"./axios-7b293c88.js";import"./@element-plus-c7a35c6f.js";import"./lodash-es-e58ab31e.js";import"./@vueuse-bc52eeb5.js";import"./@popperjs-b696b006.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-96c4c0ad.js";const g={class:"upload_content"},y=(e=>(f("data-v-f5401402"),e=e(),v(),e))((()=>c("p",{class:"alert-text"}," 支持图片(jpg、jpeg、png格式，单次最多选择50张，每张不可大于3MB，大于3MB会自动为您过滤)和视频。 ",-1))),_={class:"upload-file"},k=["src"],h={class:"dialog-footer"},x=a(t({__name:"index",setup(a){const t=e(),f=o(!1),v=o([]),x=o(),w=i((()=>"dark"===t.theme)),b=()=>{f.value=!0},z=()=>{f.value=!1},M=()=>{0!==v.value.length?(s.success("开始上传！"),f.value=!1):s.warning("请先上传文件！")},U=e=>{const a=e.type.startsWith("image/")||e.type.startsWith("video/"),t=e.size/1024/1024<3;return a?!!t||(s.warning(`${e.name} 文件超过 3MB，将自动过滤。`),!1):(s.error("只能上传图片或视频文件！"),!1)},B=()=>{s.warning("最多只能上传 50 个文件！")},C=(e,a)=>{v.value=a};return(e,a)=>{const s=l("el-button"),t=l("Plus"),o=l("el-icon"),i=l("el-upload"),V=l("el-dialog");return m(),r("div",{class:n(["upload",w.value?"upload-theme":""])},[p(s,{type:"primary",onClick:b},{default:u((()=>[d("模拟上传")])),_:1}),p(V,{modelValue:f.value,"onUpdate:modelValue":a[0]||(a[0]=e=>f.value=e),title:"上传",width:"800","align-center":""},{footer:u((()=>[c("div",h,[p(s,{onClick:z,type:"primary"},{default:u((()=>[d("关闭")])),_:1}),p(s,{onClick:M,type:"success"},{default:u((()=>[d("开始上传")])),_:1})])])),default:u((()=>[c("div",g,[y,c("div",_,[p(i,{ref_key:"uploadRef",ref:x,action:"your-upload-api-endpoint",limit:50,"on-exceed":B,"file-list":v.value,"on-change":C,"before-upload":U,"list-type":"picture-card",accept:"image/*,video/*"},{default:u((()=>[e.imageUrl?(m(),r("img",{key:0,src:e.imageUrl,class:"avatar"},null,8,k)):(m(),j(o,{key:1,class:"avatar-uploader-icon"},{default:u((()=>[p(t)])),_:1}))])),_:1},8,["file-list"])])])])),_:1},8,["modelValue"])],2)}}}),[["__scopeId","data-v-f5401402"]]);export{x as default};
