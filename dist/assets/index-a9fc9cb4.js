import{u as e,b as l}from"./vue-router-3ebd7c27.js";import{u as t,s as a,_ as s,a as o,t as n,G as i,b as r,S as c,c as d,d as u}from"./index-df8fcc47.js";import{d as m,u as v,o as p,c as h,a as f,T as b,J as k,R as _,ai as g,a8 as y,F as x,M as w,O as j,U as C,Q as L,b as M,e as E,W as D,n as R,k as S,I as T,az as V,aA as I,D as z,S as B,P as F,V as P,j as $}from"./@vue-7d1b35cf.js";import{d as H}from"./pinia-3624b2fa.js";import{a as U}from"./js-cookie-8253c38e.js";import{E as q,a as N}from"./element-plus-4d4d3315.js";import{u as A}from"./vue-i18n-9d70433a.js";import"./nprogress-6f80ecd0.js";import"./dayjs-d97fcf3a.js";import"./axios-7b293c88.js";import"./@element-plus-cdeb115f.js";import"./lodash-es-e58ab31e.js";import"./@vueuse-63aee19d.js";import"./@popperjs-b696b006.js";import"./@ctrl-91de2ec7.js";import"./async-validator-cf877c1f.js";import"./memoize-one-63ab667a.js";import"./normalize-wheel-es-3222b0a2.js";import"./@floating-ui-96c4c0ad.js";import"./@intlify-e89ab06e.js";const G={key:0,class:"logo"},W=["src"],X=s(m({name:"Logo",setup(e){let l=t();return(e,t)=>v(a).logoHidden?(p(),h("div",G,[f("img",{src:v(a).logo,alt:""},null,8,W),f("p",{style:k(v(l).fold?"display:none":"display:block")},b(v(a).title),5)])):_("",!0)}}),[["__scopeId","data-v-c75f7f3b"]]),J=H({id:"usePlayerStore",state:()=>({labelRouteList:[]}),actions:{addLabelRoute(e){}},getters:{}}),O=m({name:"Menu",props:["menuList"],setup(l){const{addLabelRoute:t}=J();e();return(e,a)=>{const s=g("el-icon"),o=g("el-menu-item"),n=g("Menu"),i=g("el-sub-menu");return p(!0),h(x,null,y(l.menuList,(e=>(p(),h(x,{key:e.path},[e.children?_("",!0):(p(),h(x,{key:0},[e.meta.hidden?_("",!0):(p(),w(o,{key:0,index:e.path,onClick:l=>(e=>{t(e)})(e)},{title:j((()=>[f("span",null,b(e.meta.title),1)])),default:j((()=>[C(s,null,{default:j((()=>[(p(),w(L(e.meta.icon)))])),_:2},1024)])),_:2},1032,["index","onClick"]))],64)),e.children&&e.children.length>0?(p(),w(i,{key:1,index:e.path},{title:j((()=>[C(s,null,{default:j((()=>[(p(),w(L(e.meta.icon)))])),_:2},1024),f("span",null,b(e.meta.title),1)])),default:j((()=>[C(n,{menuList:e.children},null,8,["menuList"])])),_:2},1032,["index"])):_("",!0)],64)))),128)}}}),Q=s(m({__name:"index",setup(e){let l=t(),a=M(!0);return E((()=>l.refsh),(()=>{a.value=!1,R((()=>{a.value=!0}))})),(e,l)=>{const t=g("router-view");return p(),w(t,null,{default:j((({Component:e})=>[C(D,{name:"fade"},{default:j((()=>[v(a)?(p(),w(L(e),{key:0})):_("",!0)])),_:2},1024)])),_:1})}}}),[["__scopeId","data-v-b16348d9"]]),Y=e=>(V("data-v-94b35223"),e=e(),I(),e),K=Y((()=>f("h4",null,"主题配置",-1))),Z={class:"content"},ee={class:"tab-border"},le={class:"tab-tilte"},te=["onClick"],ae={key:0,class:"content-list"},se=Y((()=>f("h3",null,"主题",-1))),oe={class:"line"},ne=Y((()=>f("div",null,"主题",-1))),ie={class:"built-theme"},re=Y((()=>f("h3",null,"内置主题",-1))),ce={class:"theme-color"},de=["onClick"],ue={class:"theme-text"},me=s(m({__name:"index",props:{isDrawer:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:l}){let t=o();const a=M("rtl"),s=M(!1),d=M("25%");let u=M(0),m=M(0),L=M(!1);const D=e,R=l;E((()=>D.isDrawer),(e=>{s.value=e}),{immediate:!0});const V=S((()=>({"--background-color-hover":n[u.value].color})));let I=document.documentElement;"dark"==i("THEME")?(I.className="dark",L.value=!0):(I.className="",L.value=!1);const z=e=>{L.value=!L.value;const l=document.startViewTransition((()=>{L.value?(I.className="dark",t.theme="dark",c("THEME","dark")):(I.className="",t.theme="light",c("THEME","light"))})),a=e.clientX,s=e.clientY,o=Math.hypot(Math.max(a,window.innerWidth-a),Math.max(s,window.innerHeight-s));l.ready.then((()=>{document.documentElement.animate({clipPath:[`circle(0% at ${a}px ${s}px)`,`circle(${o}px at  ${a}px ${s}px)`]},{duration:600,pseudoElement:"::view-transition-new(root)"})}))},B=()=>{R("close",!1)};return(e,l)=>{const t=g("ThemeSwitch"),o=g("el-drawer");return p(),w(o,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),direction:a.value,"close-on-click-modal":"",onClose:B,size:d.value},{header:j((()=>[K])),default:j((()=>[f("div",Z,[f("div",ee,[f("ul",le,[(p(!0),h(x,null,y(v(r),((e,l)=>(p(),h("li",{key:l,class:T({active:v(m)==l}),onClick:e=>(e=>{m.value=e})(l)},[f("div",null,b(e),1)],10,te)))),128))])]),f("div",null,[0==v(m)?(p(),h("div",ae,[f("div",null,[se,f("div",oe,[ne,C(t,{MoveRound:v(L),"onUpdate:themeSwitch":z},null,8,["MoveRound"])])]),f("div",ie,[re,f("div",ce,[(p(!0),h(x,null,y(v(n),((e,l)=>(p(),h("div",{class:"theme-list",key:l},[f("div",{class:T(["theme-item",v(u)==l?"active-color":""]),style:k([{border:v(u)==l?"2px solid "+e.color:""},V.value]),onClick:e=>(e=>{u.value=e})(l)},[f("div",{class:"theme-item-box",style:k({background:e.color})},null,4)],14,de),f("div",ue,b(e.name),1)])))),128))])])])):_("",!0)])])])),_:1},8,["modelValue","direction","size"])}}}),[["__scopeId","data-v-94b35223"]]),ve={class:"lock-dialog pr-40 pl-40"},pe={class:"lock-img"},he=["src"],fe=(e=>(V("data-v-d299d4ab"),e=e(),I(),e))((()=>f("div",{class:"lock-name"}," 小小舒 ",-1))),be={class:"lock-ipt"},ke={class:"lock-btn"},_e=s(m({__name:"index",props:{isLockDialog:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:s}){let o=M(""),n=M(!1),i=e();const r=l(),c=t,d=s;E((()=>c.isLockDialog),(e=>{n.value=e}),{immediate:!0});const u=()=>{d("close",!1)},m=()=>{""!==o.value&&(U.set("lastLockscreen",r.fullPath),i.push({path:"/lockscreen",query:{unlockPassword:o.value}}),U.set("lockStatus","1"))};return(e,l)=>{const t=g("el-input"),s=g("el-button"),i=g("el-dialog");return p(),w(i,{modelValue:v(n),"onUpdate:modelValue":l[1]||(l[1]=e=>z(n)?n.value=e:n=e),title:"锁定屏幕",width:"500","before-close":u,onClose:u,style:{"border-radius":"1.25rem"}},{default:j((()=>[f("div",ve,[f("div",pe,[f("img",{src:v(a).logo,alt:""},null,8,he)]),fe,f("div",be,[C(t,{type:"password","prefix-icon":e.Lock,modelValue:v(o),"onUpdate:modelValue":l[0]||(l[0]=e=>z(o)?o.value=e:o=e),"show-password":"",placeholder:"请输入锁屏密码"},null,8,["prefix-icon","modelValue"])]),f("div",ke,[C(s,{type:"primary",style:{width:"100%"},onClick:m},{default:j((()=>[B("确定")])),_:1})])])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-d299d4ab"]]),ge=e=>(V("data-v-436a0650"),e=e(),I(),e),ye={class:"p-13-8"},xe={class:""},we={class:"d-flex ai-center"},je=["src"],Ce=ge((()=>f("span",null,null,-1))),Le={class:"user-info"},Me={class:"user-img"},Ee=["src"],De=ge((()=>f("span",null,null,-1))),Re=[ge((()=>f("div",{class:"fw-500"},"Xiaoshu",-1))),ge((()=>f("div",{style:{color:"#71717a","font-size":".75rem","line-height":"1rem"}},"https:xiaoshukitty",-1)))],Se=s(m({name:"Setting",setup(s){let n=o();const i=M(!1),r=d();let c=t(),u=e(),m=l(),b=M(!1);const k=()=>{c.refsh=!c.refsh},_=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},y=()=>{b.value=!0},w=e=>{b.value=e},L=()=>{q.confirm("是否退出登录?","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then((()=>{r.logout(),u.push({path:"/",query:{redirect:m.path}}),N({type:"success",message:"Delete completed"})})).catch((()=>{N({type:"info",message:"Delete canceled"})}))},E=()=>{i.value=!0},D=e=>{i.value=e};return(e,l)=>{const t=g("el-button"),s=g("I18n"),o=g("SwitchFilled"),r=g("el-icon"),c=g("Lock"),d=g("SwitchButton"),u=g("el-dropdown");return p(),h(x,null,[f("div",{class:"p-13-8",onClick:k},[C(t,{size:"small",icon:"Refresh",circle:""})]),f("div",{class:"p-13-8",onClick:_},[C(t,{size:"small",icon:"FullScreen",circle:""})]),f("div",ye,[C(s)]),f("div",{class:"p-13-8",onClick:E},[C(t,{size:"small",icon:"Setting",circle:""})]),f("div",xe,[C(u,{trigger:"click"},{dropdown:j((()=>[f("div",Le,[f("div",{class:T(["user-top","d-flex","ai-center","b-bottom","dark"===v(n).theme?"tabbar-theme":""])},[f("div",Me,[f("img",{src:v(a).logo,alt:""},null,8,Ee),De]),f("div",{class:T(["user-name","d-flex","j-center","f-cloumn","ml-10","dark"===v(n).theme?"tabbar-theme":""])},Re,2)],2),f("div",{class:T(["user-bottom","b-bottom","dark"===v(n).theme?"tabbar-theme":""])},[f("div",{class:T(["user-bottom-line ","d-flex ai-center","dark"===v(n).theme?"user-hover":""])},[C(r,{class:"mr-5"},{default:j((()=>[C(o)])),_:1}),B("Github ")],2),f("div",{class:T(["user-bottom-line ","d-flex ai-center","dark"===v(n).theme?"user-hover":""]),onClick:y},[C(r,{class:"mr-5"},{default:j((()=>[C(c)])),_:1}),B("锁定屏幕 ")],2)],2),f("div",{class:T(["user-bottom","b-bottom","dark"===v(n).theme?"tabbar-theme":""])},[f("div",{class:T(["user-bottom-line ","d-flex ai-center","dark"===v(n).theme?"user-hover":""]),onClick:L},[C(r,{class:"mr-5"},{default:j((()=>[C(d)])),_:1}),B("退出登录")],2)],2)])])),default:j((()=>[f("div",we,[f("div",{class:T(["img-hover","dark"===v(n).theme?"img-hover-theme":""])},[f("img",{src:v(a).logo,alt:""},null,8,je),Ce],2)])])),_:1})]),C(me,{isDrawer:i.value,onClose:D},null,8,["isDrawer"]),C(_e,{isLockDialog:v(b),onClose:w},null,8,["isLockDialog"])],64)}}}),[["__scopeId","data-v-436a0650"]]),Te={class:"d-flex ai-center"},Ve={style:{margin:"0 .3125rem"}},Ie=m({name:"Breadcrumb",setup(e){let a=o(),s=t();l(),M(!1);const n=()=>{s.fold=!s.fold};return(e,l)=>{const t=g("el-icon"),o=g("el-breadcrumb-item"),i=g("el-breadcrumb");return p(),h(x,null,[C(t,{class:"mr-10 fs-26",style:k("dark"===v(a).theme?"color:#eee":""),onClick:n},{default:j((()=>[(p(),w(L(v(s).fold?"Expand":"Fold")))])),_:1},8,["style"]),C(i,{"separator-icon":"ArrowRight"},{default:j((()=>[(p(!0),h(x,null,y(e.$route.matched,((e,l)=>F((p(),w(o,{key:l,onClick:e=>{},to:e.path},{default:j((()=>[f("div",Te,[C(t,{class:"fs-24"},{default:j((()=>[(p(),w(L(e.meta.icon)))])),_:2},1024),f("span",Ve,b(e.meta.title),1)])])),_:2},1032,["onClick","to"])),[[P,e.meta.title]]))),128))])),_:1})],64)}}}),ze={class:"tabbar_left"},Be={class:"tabbar_right"},Fe=s(m({name:"Tabbar",setup(e){let l=o();return(e,t)=>(p(),h("div",{class:T(["tabbar","dark"===v(l).theme?"tabbar-theme":""])},[f("div",ze,[C(Ie)]),f("div",Be,[C(Se)])],2))}}),[["__scopeId","data-v-d4764500"]]),Pe={class:"d-flex left-lable-content"},$e=(e=>(V("data-v-f9755382"),e=e(),I(),e))((()=>f("div",{class:"right-labl"}," 右 ",-1))),He=s(m({__name:"index",setup(e){const{t:l}=A();let t=o();const a=M();let s=M("");return(e,l)=>{const o=g("ContextMenu");return p(),h(x,null,[f("div",{class:T(["label-page","dark"===v(t).theme?"label-theme":""])},[f("div",{class:"left-lable fs-14",onContextmenu:l[0]||(l[0]=e=>{return(l=e).preventDefault(),a.value.showMenu(l),void(s.value="labelPage");var l})},[f("div",Pe,[f("div",{class:T(["left-lable-text","d-flex","ai-center","label-hover","dark"===v(t).theme?"label-theme-hover":""])},"首页",2),f("div",{class:T(["left-lable-text","d-flex","ai-center","label-hover","dark"===v(t).theme?"label-theme-hover":""])},"页面滑动",2)])],32),$e],2),C(o,{ref_key:"contextMenu",ref:a,routerType:v(s)},null,8,["routerType"])],64)}}}),[["__scopeId","data-v-f9755382"]]),Ue=H("menu",{state:()=>({menuRoutes:[]}),actions:{generateMenus(e){const l=qe(u,e);this.menuRoutes=l}}}),qe=(e,l)=>e.map((e=>(e.children&&(e.children=qe(e.children,l)),e.meta&&e.meta.roles&&!e.meta.roles.includes(l)?null:e))).filter(Boolean),Ne=Ue,Ae={class:"layout_container"},Ge={class:"layout_box"},We={class:"layout-header"},Xe=s(m({name:"Layout",setup(e){const a=Ne(),s=d();let o=t(),n=l(),i=M([]);return $((()=>{a.generateMenus(s.userRole),i.value=a.menuRoutes})),(e,l)=>{const t=g("el-menu"),a=g("el-scrollbar");return p(),h("div",Ae,[f("div",{class:T(["layout_slider",{fold:!!v(o).fold}])},[C(X),C(a,{class:"scrollbar"},{default:j((()=>[C(t,{collapse:!!v(o).fold,"default-active":v(n).path,"background-color":"#151515","text-color":"#fff","active-text-color":"rgb(255, 208, 75)",router:"","unique-opened":!0},{default:j((()=>[C(O,{menuList:v(i)},null,8,["menuList"])])),_:1},8,["collapse","default-active"])])),_:1})],2),f("div",Ge,[f("div",We,[f("header",{class:T(["layout_tabbar",{fold:!!v(o).fold}])},[C(Fe)],2),f("section",{class:T(["layout-label",{fold:!!v(o).fold}])},[C(He)],2)]),f("main",{class:T(["layout_main",{fold:!!v(o).fold}])},[C(Q)],2)])])}}}),[["__scopeId","data-v-fede2e76"]]);export{Xe as default};
